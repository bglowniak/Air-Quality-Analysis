{% extends 'base.html' %}

{% block container %}
    <div class="container">
        <div class="row">
            <div class="offset-md-2 col-md-8">

                <h1>Air Quality Analysis Project</h1>

                <hr/>

                <h3>Analysis in progress, please wait...</h3>

                <div class="progress">
                    <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar"
                         aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0"
                         id="progressBar"></div>
                </div>

                <hr/>

                <button type="button" class="btn btn-danger" style="float: right;" id="cancelJob">Cancel</button>

            </div>
        </div>
    </div>

{% endblock container %}


{% block scripts %}

    <script type="text/javascript">

        $('#cancelJob').click(function () {
            window.location = '/';
        });

        $(function () {
            var i = 0;
            setInterval(function () {
                if (i++ <= 10) {
                    $('#progressBar').css('width', new String(i * 10) + '%');
                } else {
                    window.location = '/finish';
                }
            }, 1000);
        });

    </script>

{% endblock scripts %}